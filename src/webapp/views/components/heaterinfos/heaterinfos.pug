include /temperature/temperature
include /icon/icon
include /form/form
include /scalabletemperaturefield/scalabletemperaturefield
include /scalebox/scalebox
include /lockingbutton/lockingbutton
include /button/button
include /livedatetime/livedatetime

mixin heaterInfos(systemTime, heatingMode, burnetStatus, burnerTemp, waterStatus, waterTemp, waterTargetTemp, failureStatus)
  .heaterInfos
    a(href="#" class=failureStatus.hasFailure ? "heaterInfos__failureStatus--hasFailure" : null).heaterInfos__element.heaterInfos__failureStatus
      +buttonIcon("bolt")
    +scaleBox(150, 70).heaterInfos__element.heaterInfos__systemTime
      +liveDateTime(systemTime, locale)
    +form("GET", "#").heaterInfos__element.heaterInfos__heating
      +lockingButtonIcon("heatingOn", "radiator", heatingMode.heating)
    +form("GET", "#").heaterInfos__element.heaterInfos__water
      +lockingButtonIcon("warmWaterOn", "water-tap", heatingMode.warmwater)
    +icon("fire")(class=burnerStatus ? "heaterInfos__burnerStatus--active" : null).heaterInfos__element.heaterInfos__burnerStatus
    +scaleBox(100, 35).heaterInfos__element.heaterInfos__burnerTemperature
      +temperature(burnerTemp, 1)
    +icon("droplet")(class=waterStatus ? "heaterInfos__waterStatus--active" : null).heaterInfos__element.heaterInfos__waterStatus
    +scaleBox(100, 35).heaterInfos__element.heaterInfos__waterTemperature
      +temperature(waterTemp, 1)
    +form("PUT", "/overview/heaterinfos")
      .heaterInfos__element.heaterInfos__waterTargetTemperature
        +scalableTemperatureField(75, 37, "waterTargetTemperature", waterTargetTemp)
    //- .heaterInfos__element
      each failure in model.failures.items
        +failureMessage(failure)
